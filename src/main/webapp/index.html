<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
    <title>Dark Souls death counter - Home</title>
    <link rel="stylesheet" type="text/css" href="styles/styles.css">
    <link rel="icon" type="image/ico" href="/favicon.ico" />
</head>
<body>
<div id="wrapper" class="nav-home">
    <div class="content-left">
        <div class="navbar">
            <span class="navbar-bullet-start">&bull;</span>
            <div id="navHome" class="navlink" onclick="navigate('home')"><a>HOME</a></div>
            <span class="navbar-bullet">&bull;</span>
            <div id="navStats" class="navlink" onclick="navigate('stats')"><a>STATS</a></div>
            <span class="navbar-bullet">&bull;</span>
            <div id="navAbout" class="navlink" onclick="navigate('about')"><a>ABOUT</a></div>
            <span class="navbar-bullet">&bull;</span>
            <div id="navFaq" class="navlink" onclick="navigate('faq')"><a>FAQ</a></div>
            <span class="navbar-bullet-end">&bull;</span>
            <div class="divider-line">
            </div>
        </div>
        <div class="content-body">
            <div class="description-top">
                <span class="uppercase">WELCOME TO DARK SOULS DEATHS!</span><br>
                Upload a save file from Dark Souls to see how many times you have died.
            </div>
            <div class="file-uploader">
                <input disabled type="text" id="fileName" name="fileName" value="No file selected."><br>
                <form id="saveFile" method="POST" action="cgi-bin/results.py" enctype="multipart/form-data">
                    <input type="file" name="file" id="file" class="inputfile" onchange="updateFileName(this)"/>
                    <label for="file">BROWSE</label>
                    <input type="submit" id="submit" value="UPLOAD" onclick="document.getElementById('div-loading').style.display = 'block';">
                </form>
            </div>
            <div class="description-bottom">
                The PC version's save files can be found in <b>Documents/NBGI/DarkSouls/[Your name]</b>. If you have an idea on how to make this work for consoles, <a href="/about.html#contact">let us know</a>.
            </div>
        </div>
        <div class="copyright-notice">
            <div class="divider-line">
            </div>
            <div class="disclaimer">
                Dark Souls is &copy; NAMCO BANDAI Games Inc. and FromSoftware, Inc.  This site is in no way affiliated with or endorsed by either company.
            </div>
        </div>
    </div>
<!--    <div class="content-right">
        <div class="you-died">
        </div>
    </div>-->
</div>
<script type="text/javascript">
    function navigate(page)
    {
        let wrapper = document.getElementById('wrapper');

        for(let i=0; i<wrapper.classList.length; i++)
        {
            if(wrapper.classList[i].indexOf('nav-') === 0)
            {
                wrapper.classList.remove(wrapper.classList[i]);
            }
        }

        if(page === 'home')
        {
            wrapper.classList.add('nav-home');
        }
        else if(page === 'stats')
        {
            wrapper.classList.add('nav-stats');
        }
        else if(page === 'about')
        {
            wrapper.classList.add('nav-about');
        }
        else if(page === 'faq')
        {
            wrapper.classList.add('nav-faq');
        }
        else if(page === 'results')
        {
            wrapper.classList.add('nav-results');
        }
        else
        {
            console.error('Page name "' + page + '" not found!');
        }
    }
    function updateFileName(fileInput)
    {
        let displayField = document.getElementById('fileName');
        let fname = fileInput.value;

        if(fname === '')
        {
            displayField.value = 'No file selected.';
            return;
        }

        //remove "C:\fakepath\"
        fname = fname.split('\\');
        fname = fname[fname.length-1];

        displayField.value = fname;
    }
</script>
</body>
</html>